<!DOCTYPE html>
<html>
<head>
    <title>คำนวณภาษี</title>
</head>
<body>
    <center><h1 style="background-color: aqua;">คำนวณภาษี</h1>
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTkF0VLeefg0PnhHO_319FgrI0teVQ5OAn8cQ&usqp=CAU">
    <p>ภาษี (อังกฤษ: tax) เป็นเงินหรือทรัพย์สิน ที่เรียกเก็บจากประชาชนโดยองค์กรรัฐบาล เพื่อนำไปเป็นทุนในการใช้จ่ายของรัฐบาล <br>
        และรายจ่ายสาธารณะต่างๆ และเป็นภาระหน้าที่สำหรับพลเมืองที่จะต้องเสียภาษีอากรในประเทศไทย และมีบทลงโทษสำหรับผู้หลีกเลี่ยงภาษี<br>
        วัตถุประสงค์หลักของภาษี คือ เพื่อเป็นเงินทุนสำหรับการใช้จ่ายสาธารณะ เช่น การก่อสร้างระบบโครงสร้างพื้นฐาน การให้บริการด้านสาธารณสุข<br> 
        การศึกษา ความปลอดภัยและความมั่นคงของประชาชน รวมถึงระบบคุ้มครองทางสังคม</p>>
    
    <form>
        <label for="income">เงินได้:</label>
        <input type="number" id="income" name="income"><br><br>
        
        <label for="expenses">ค่าใช้จ่าย:</label>
        <input type="number" id="expenses" name="expenses"><br><br>
        
        <label for="deductions">ค่าลดหย่อน:</label>
        <input type="number" id="deductions" name="deductions"><br><br>
        
        <button type="button" onclick="calculateTax()">คำนวณภาษี</button>
    </form>
    
    <p id="taxResult"></p></center>>
    
    <script>
        function calculateTax() {
            const taxLevels = new Array(0, 150000, 300000, 500000, 750000, 1000000, 2000000, 5000000);
            
            var income = parseFloat(document.getElementById("income").value);
            var expenses = parseFloat(document.getElementById("expenses").value);
            var deductions = parseFloat(document.getElementById("deductions").value);
            
            var netIncome = income - expenses - deductions;
            var tax;
            var level;
            
            for (let curLevel = 0; curLevel < taxLevels.length; curLevel++) {
                if (netIncome > taxLevels[curLevel]) {
                   level = taxLevels[curLevel];
                }
            }
            
            var taxPercentage = level * 0.05;
            var taxAddition = taxLevels[level - 1] * ((level - 1) * 0.05);
            tax = ((netIncome - taxLevels[level]) * taxPercentage) + taxAddition;

            window.alert(taxPercentage, taxAddition);
            
            document.getElementById("taxResult").innerHTML = "ภาษีที่ต้องชำระ: " + z.toFixed(2);
        }
    </script>
</body>
</html>
